# üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–ø–∏—Å–∞–Ω–∏–µ–º –∫—Ä–µ–¥–∏—Ç–æ–≤

## ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞:**
–ë—ã–ª–æ 40 –∫—Ä–µ–¥–∏—Ç–æ–≤ ‚Üí –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Üí –≤—Å–µ –µ—â–µ 40 –∫—Ä–µ–¥–∏—Ç–æ–≤ (–Ω–µ —Å–ø–∏—Å–∞–ª—Å—è 1 –∫—Ä–µ–¥–∏—Ç)

## üîç **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

### 1. **–§—É–Ω–∫—Ü–∏—è `deductCredit` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤:
  ```
  üí≥ Credit deducted before transformation, remaining: 39
  ‚úÖ Transformation successful
  ```

### 2. **–û—à–∏–±–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `deductCredit`**
- –í–æ–∑–º–æ–∂–Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ–º–æ-—Å–∏—Å—Ç–µ–º–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ localStorage: `localStorage.getItem('demo_credits')`

### 3. **–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ UI**
- –ö—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è, –Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `setCredits` —Ñ—É–Ω–∫—Ü–∏—é

## üß™ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º):**

### **–®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –¥–µ–º–æ-–∫—Ä–µ–¥–∏—Ç—ã**
```javascript
localStorage.getItem('demo_credits')
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: "40"
```

### **–®–∞–≥ 3: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:
```
üí≥ Credit deducted before transformation, remaining: 39
‚úÖ Transformation successful
üéÆ Using demo credits: 39  // (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ)
```

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ localStorage –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**
```javascript
localStorage.getItem('demo_credits')
// –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: "39"
```

### **–®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ UI**
- –û–±–Ω–æ–≤–∏—Ç—Å—è –ª–∏ —Å—á–µ—Ç—á–∏–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ header/dashboard?
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è React

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã:**

### **1. –ü–µ—Ä–µ–Ω–æ—Å `deductCredit` –ø–µ—Ä–µ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:**
```javascript
// –ë–´–õ–û: deductCredit() –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
try {
  const blob = await api.transformImage(...);
  deductCredit(); // –º–æ–≥–ª–æ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
}

// –°–¢–ê–õ–û: deductCredit() –ø–µ—Ä–µ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π  
try {
  await deductCredit(); // –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
  const blob = await api.transformImage(...);
}
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```javascript
console.log('üí≥ Credit deducted before transformation, remaining:', credits - 1);
console.log('‚úÖ Transformation successful');
```

## üéØ **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –°–ï–ô–ß–ê–°:**

### **–í –≥–ª–∞–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (localhost:3000):**
1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) 
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã: `localStorage.getItem('demo_credits')`
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `localStorage.getItem('demo_credits')`

### **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∏–ª–∞—Å—å:**

#### **Manual Test Demo System:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
const demoPaymentSystem = {
  getDemoCredits: () => parseInt(localStorage.getItem('demo_credits') || '0'),
  setDemoCredits: (credits) => localStorage.setItem('demo_credits', credits.toString()),
  useCredit: () => {
    const credits = parseInt(localStorage.getItem('demo_credits') || '0');
    if (credits > 0) {
      localStorage.setItem('demo_credits', (credits - 1).toString());
      return true;
    }
    return false;
  }
};

// –¢–µ—Å—Ç:
console.log('Before:', demoPaymentSystem.getDemoCredits());
demoPaymentSystem.useCredit();
console.log('After:', demoPaymentSystem.getDemoCredits());
```

## üö® **–ï—Å–ª–∏ –∫—Ä–µ–¥–∏—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è:**

### **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. **deductCredit —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–µ —Ç–µ –¥–∞–Ω–Ω—ã–µ**
2. **localStorage –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** 
3. **React state –∏ localStorage –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**
4. **–§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–æ —Å –æ—à–∏–±–∫–æ–π**

### **–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ç–µ—Å—Ç:**
–í—Ä–µ–º–µ–Ω–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ alert –≤ —Ñ—É–Ω–∫—Ü–∏—é deductCredit –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```javascript
const deductCredit = async () => {
  alert('deductCredit called with credits: ' + credits);
  // –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥...
}
```

## üìä **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. **–î–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** 40 –∫—Ä–µ–¥–∏—Ç–æ–≤
2. **–ù–∞–∂–∞—Ç–∏–µ Transform** ‚Üí —Å—Ä–∞–∑—É —Å–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫—Ä–µ–¥–∏—Ç  
3. **–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:** 39 –∫—Ä–µ–¥–∏—Ç–æ–≤
4. **–í localStorage:** "39"
5. **–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:** –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å—á–µ—Ç—á–∏–∫

---

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏ –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å–æ–ª—å!** üîç